[custom]

ruleset=🇮🇷IranWebsites,[]GEOIP,IR
ruleset=🇮🇷IranWebsites,[]GEOSITE,category-ir
ruleset=🇮🇷IranWebsites,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/apps.txt
#ruleset=🇮🇷IranWebsites,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ir.txt
#ruleset=🇮🇷IranWebsites,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ircidr.txt

;ruleset=🖥️Lan,[]GEOIP,private ;Android apps can't access proxy
;ruleset=🖥️Lan,[]GEOIP,LAN ;Android apps can't access proxy
ruleset=🖥️Lan,[]GEOSITE,private
#ruleset=🖥️Lan,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/private.txt

ruleset=🛡️PrivacyTrackers,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyPrivacy.list
#ruleset=🦠SECURITY,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.txt
#ruleset=🦠SECURITY,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.txt
#ruleset=🦠SECURITY,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.txt

ruleset=🛑Advertisements,[]GEOSITE,category-ads-all
ruleset=🛑Advertisements,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=🛑Advertisements,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
ruleset=🛑Advertisements,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyListChina.list
#ruleset=🛑Advertisements,https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ads.txt

ruleset=🎛NVIDIADestination,[]GEOSITE,nvidia
ruleset=</>GITDestination,[]GEOSITE,github
;ruleset=</>GITDestination,[]GEOSITE,github1s ;??? ERROR NOT FOUND IN GEOSITE??????
ruleset=</>GITDestination,[]GEOSITE,gitlab

ruleset=📺YouTubeDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/YouTube.list
ruleset=📱GoogleDestination,[]GEOSITE,google
ruleset=📱GoogleDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Google.list
ruleset=📙RedditDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Reddit.list
ruleset=🔵TelegramDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Telegram.list
ruleset=🤖OpenAIDestination,[]GEOSITE,openai
ruleset=🤖OpenAIDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/OpenAi.list
ruleset=🐦TwitterDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Twitter.list
ruleset=🤖GrokDestination,[]DOMAIN-SUFFIX,grok.com
ruleset=🤖GrokDestination,[]DOMAIN-SUFFIX,x.ai
ruleset=🗨️DiscordDestination,[]GEOSITE,discord
ruleset=🗨️DiscordDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Discord.list
ruleset=🎮SteamDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Steam.list
ruleset=👾TwitchDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Twitch.list
ruleset=☁️CloudflareDestination,[]GEOSITE,cloudflare
ruleset=📷InstagramDestination,[]GEOSITE,instagram
ruleset=📘FacebookDestination,[]GEOSITE,facebook
ruleset=📘FacebookDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Facebook.list
ruleset=🎥NetflixDestination,[]GEOSITE,netflix
ruleset=🎥NetflixDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Netflix.list
ruleset=🎥NetflixDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/NetflixIP.list
ruleset=🎶SpotifyDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Spotify.list
ruleset=🎬TikTokDestination,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/TikTok.list
ruleset=💼LinkedInDestination,[]GEOSITE,linkedin

ruleset=⚡Online,[]FINAL

custom_proxy_group=🦽Manual`select`.*

custom_proxy_group=🌐Proxy`select`[]🦽Manual`[]♻️gstatic`[]📙Reddit`[]🔵Telegram`[]▶️YouTube`[]🤖OpenAI`[]🗨️Discord`[]🐦Twitter`[]🎮Steam`[]👾Twitch`[]📱Google`[]🤖Grok`[]📷Instagram`[]📘Facebook`[]🎥Netflix`[]🎶Spotify`[]🎬TikTok`[]💼LinkedIn`[]🔓Direct`[]🚫Block`[]⤵️FirstPing`[]🥸MultiIP`[]🟩NVIDIA`[]🐱GitHub


custom_proxy_group=🖥️Lan`select`[]🔓Direct`[]🌐Proxy`[]🚫Block
custom_proxy_group=🇮🇷IranWebsites`select`[]🔓Direct`[]🌐Proxy`[]🚫Block
custom_proxy_group=🛑Advertisements`select`[]🔓Direct`[]🚫Block`[]🌐Proxy
custom_proxy_group=🛡️PrivacyTrackers`select`[]🔓Direct`[]🚫Block`[]🌐Proxy
custom_proxy_group=🦠SECURITY`select`[]🚫Block`[]🔓Direct`[]🌐Proxy

custom_proxy_group=🎛NVIDIADestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=</>GITDestination`select`[]🔓Direct`[]🚫Block`[]🌐Proxy

custom_proxy_group=📺YouTubeDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=📱GoogleDestination`select`[]🔓Direct`[]🚫Block`[]🌐Proxy
custom_proxy_group=📙RedditDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🔵TelegramDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🤖OpenAIDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🐦TwitterDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🤖GrokDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🗨️DiscordDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🎮SteamDestination`select`[]🔓Direct`[]🚫Block`[]🌐Proxy
custom_proxy_group=👾TwitchDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=☁️CloudflareDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=📷InstagramDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=📘FacebookDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🎥NetflixDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🎶SpotifyDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=🎬TikTokDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
custom_proxy_group=💼LinkedInDestination`select`[]🌐Proxy`[]🔓Direct`[]🚫Block

custom_proxy_group=♻️gstatic`url-test`.*`http://www.gstatic.com/generate_204`-1,,300
custom_proxy_group=☁️cloudflare`url-test`.*`http://cp.cloudflare.com/generate_204`-1,,300

custom_proxy_group=📙Reddit`url-test`.*`https://www.reddit.com`-1,,300
custom_proxy_group=🔵Telegram`url-test`.*`https://core.telegram.org`-1,,300
custom_proxy_group=▶️YouTube`url-test`.*`https://www.youtube.com`-1,,300
custom_proxy_group=🤖OpenAI`url-test`.*`https://chat.openai.com`-1,,300
custom_proxy_group=🐦Twitter`url-test`.*`https://twitter.com`-1,,300
custom_proxy_group=🗨️Discord`url-test`.*`https://discord.com`-1,,300
custom_proxy_group=🎮Steam`url-test`.*`https://store.steampowered.com`-1,,300
custom_proxy_group=👾Twitch`url-test`.*`https://www.twitch.tv`-1,,300
custom_proxy_group=📱Google`url-test`.*`https://www.google.com`-1,,300
custom_proxy_group=🤖Grok`url-test`.*`https://grok.x.ai`-1,,300
;custom_proxy_group=☁️Cloudflare`url-test`.*`https://www.cloudflare.com`-1,,300  #duplicate
custom_proxy_group=📷Instagram`url-test`.*`https://www.instagram.com`-1,,300
custom_proxy_group=📘Facebook`url-test`.*`https://www.facebook.com`-1,,300
custom_proxy_group=🎥Netflix`url-test`.*`https://www.netflix.com`-1,,300
custom_proxy_group=🎶Spotify`url-test`.*`https://www.spotify.com`-1,,300
custom_proxy_group=🎬TikTok`url-test`.*`https://www.tiktok.com`-1,,300
custom_proxy_group=💼LinkedIn`url-test`.*`https://www.linkedin.com`-1,,300

custom_proxy_group=🟩NVIDIA`url-test`.*`https://www.nvidia.com`-1,,300
custom_proxy_group=🐱GitHub`url-test`.*`https://github.com`-1,,300

custom_proxy_group=⤵️FirstPing`fallback`.*`http://www.gstatic.com/generate_204`-1,,300
custom_proxy_group=🥸MultiIP`load-balance`.*`http://www.gstatic.com/generate_204`-1,,300

custom_proxy_group=🔓Direct`select`[]DIRECT
custom_proxy_group=🚫Block`select`[]REJECT

custom_proxy_group=⚡Online`select`[]🌐Proxy`[]🖥️Lan`[]🇮🇷IranWebsites`[]🛑Advertisements`[]🛡️PrivacyTrackers`[]📺YouTubeDestination`[]📱GoogleDestination`[]📙RedditDestination`[]🔵TelegramDestination`[]🤖OpenAIDestination`[]🐦TwitterDestination`[]🤖GrokDestination`[]🗨️DiscordDestination`[]🎮SteamDestination`[]👾TwitchDestination`[]☁️CloudflareDestination`[]📷InstagramDestination`[]📘FacebookDestination`[]🎥NetflixDestination`[]🎶SpotifyDestination`[]🎬TikTokDestination`[]💼LinkedInDestination`[]🎛NVIDIADestination`[]</>GITDestination`[]🦠SECURITY

enable_rule_generator=true
overwrite_original_rules=true

#To catch undefined or misrouted traffic:
#custom_proxy_group=📦Others`select`[]🌐Proxy`[]🔓Direct`[]🚫Block
#ruleset=📦Others,[]MATCH

#OTHER TEST URLs:
#http://connectivitycheck.gstatic.com/generate_204
#http://www.msftconnecttest.com/connecttest.txt

;Groups Map:
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;  ⚡Online (select) – Main Entry Point
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;Routes all traffic through categorized destination groups:
; ├─ 🖥️Lan                → 🔓Direct / 🌐Proxy / 🚫Block
; ├─ 🇮🇷IranWebsites       → 🔓Direct / 🌐Proxy / 🚫Block
; ├─ 🛑Advertisements      → 🔓Direct / 🚫Block / 🌐Proxy
; ├─ 🛡️PrivacyTrackers     → 🔓Direct / 🚫Block / 🌐Proxy
; ├─ 🦠SECURITY            → 🚫Block / 🔓Direct / 🌐Proxy
; ├─ 🎛NVIDIADestination   → 🌐Proxy / 🔓Direct / 🚫Block
; ├─ </>GITDestination    → 🔓Direct / 🚫Block / 🌐Proxy
; └─ App/Site-Specific Destinations:
;     ├─ 📺YouTubeDestination
;     ├─ 📱GoogleDestination
;     ├─ 📙RedditDestination
;     ├─ 🔵TelegramDestination
;     ├─ 🤖OpenAIDestination
;     ├─ 🐦TwitterDestination
;     ├─ 🤖GrokDestination
;     ├─ 🗨️DiscordDestination
;     ├─ 🎮SteamDestination
;     ├─ 👾TwitchDestination
;     ├─ ☁️CloudflareDestination
;     ├─ 📷InstagramDestination
;     ├─ 📘FacebookDestination
;     ├─ 🎥NetflixDestination
;     ├─ 🎶SpotifyDestination
;     ├─ 🎬TikTokDestination
;     └─ 💼LinkedInDestination
#
;Each Destination Group → select( 🌐Proxy / 🔓Direct / 🚫Block )
#
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;  🌐Proxy (select) – Main Proxy Chain
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;Prioritized proxy methods and latency-based tests:
; ├─ ♻️gstatic       (url-test: http://www.gstatic.com/generate_204)
; ├─ ☁️cloudflare    (url-test: http://cp.cloudflare.com/generate_204)
; ├─ 🦽Manual        (manual proxy selection)
; ├─ ⤵️FirstPing     (fallback proxy based on delay)
; ├─ 🥸MultiIP       (load-balanced IPs)
; ├─ App-based latency groups:
; │   ├─ 📙Reddit      (https://www.reddit.com)
; │   ├─ 🔵Telegram    (https://core.telegram.org)
; │   ├─ ▶️YouTube     (https://www.youtube.com)
; │   ├─ 🤖OpenAI      (https://chat.openai.com)
; │   ├─ 🐦Twitter     (https://twitter.com)
; │   ├─ 🗨️Discord     (https://discord.com)
; │   ├─ 🎮Steam       (https://store.steampowered.com)
; │   ├─ 👾Twitch      (https://www.twitch.tv)
; │   ├─ 📱Google      (https://www.google.com)
; │   ├─ 🤖Grok        (https://grok.x.ai)
; │   ├─ 📷Instagram   (https://www.instagram.com)
; │   ├─ 📘Facebook    (https://www.facebook.com)
; │   ├─ 🎥Netflix     (https://www.netflix.com)
; │   ├─ 🎶Spotify     (https://www.spotify.com)
; │   ├─ 🎬TikTok      (https://www.tiktok.com)
; │   ├─ 💼LinkedIn    (https://www.linkedin.com)
; │   ├─ 🟩NVIDIA      (https://www.nvidia.com)
; │   └─ 🐱GitHub      (https://github.com)
; ├─ 🔓Direct         (select → DIRECT)
; └─ 🚫Block          (select → REJECT)
#
